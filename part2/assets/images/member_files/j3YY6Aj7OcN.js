if (self.CavalryLogger) { CavalryLogger.start_js(["wkZfT"]); }

__d('FBPaymentsErrorNotice.react',['cx','React','XUINotice.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'FBPaymentsErrorNotice',propTypes:{error:i.object},getDefaultProps:function(){return {error:null};},renderErrorContent:function(){var k=this.props.error;if(k.message.__html){return c('React').createElement('span',{dangerouslySetInnerHTML:k.message});}else return c('React').createElement('span',null,k.message);},render:function(){return (c('React').createElement(c('XUINotice.react'),{className:"_3-8n",use:'warn'},this.renderErrorContent()));}});f.exports=j;},null);
__d('FBPaymentsFormField.react',['cx','React','ReactDOM','ReactInputSelection','XUITextInput.react','cloneWithProps_DEPRECATED','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=49,k=c('React').createClass({displayName:'FBPaymentsFormField',propTypes:{autoCompleteName:i.string,cursorPositionUpdater:i.func,disabled:i.bool,errorMessage:i.string,formatValue:i.func,icon:i.shape({normal:i.object,focused:i.object}),initiallyFocused:i.bool,getSecondaryIcon:i.func,hideSecondaryIconOnBlur:i.bool,label:i.string,name:i.string.isRequired,placeholder:i.string,onChange:i.func.isRequired,required:i.bool,saveError:i.string,showFocusOutline:i.bool,showPlaceholderOnFocus:i.bool,showSecondaryIconAlways:i.bool,useGutter:i.bool,validate:i.func,value:i.string,width:i.number},getDefaultProps:function(){return {hideSecondaryIconOnBlur:false,required:false,saveError:'',showFocusOutline:true,showPlaceholderOnFocus:false,showSecondaryIconAlways:false,useGutter:false,width:100};},getInitialState:function(){return {cursorPosition:0,isValid:false,focused:false,value:this.props.value||''};},_isModified:false,_lastKeyCode:j,componentDidUpdate:function(l,m){if(m.cursorPosition!==this.state.cursorPosition)c('ReactInputSelection').setSelection(this.getInputElement(),{start:this.state.cursorPosition});if(this.props.saveError!==l.saveError)this.triggerChange(this.state.value);},componentDidMount:function(){var l=this.state.value;if(l)this.triggerChange(l);if(this.props.initiallyFocused)setTimeout(function(){if(this.isMounted())this.focusInput();}.bind(this),100);},getInputElement:function(){return this.refs.input.refs.textInput.getTextFieldDOM();},getCursorPosition:function(){return (c('ReactInputSelection').getSelection(this.getInputElement()).start);},handleBlur:function(l){var m=this.getInputElement().value;if(m&&m!==this.state.value)this.triggerChange(m);this.setState({focused:false});},handlePaste:function(l){this._lastKeyCode=j;},handleChange:function(l){this.triggerChange(l.target.value);},handleOnKeyDown:function(l){var m=l.keyCode;if(m>=96&&m<=105)m-=48;this._lastKeyCode=m;},handleFocus:function(l){this.setState({focused:true});},focusInput:function(){c('ReactDOM').findDOMNode(this.refs.input).focus();},renderIcon:function(){var l=void 0,m=this.props.icon;if(!m)return null;l=this.state.focused?m.focused:m.normal;return (c('React').createElement('div',{className:"_2_97"},l));},renderSecondaryIcon:function(){var l=void 0;if(!this.state.focused&&!this.props.showSecondaryIconAlways&&(this.props.hideSecondaryIconOnBlur||!this._isModified))return null;if(this.props.getSecondaryIcon)l=this.props.getSecondaryIcon(this.state.value);if(!l)return null;return c('cloneWithProps_DEPRECATED')(l,{className:c('joinClasses')(l,"_2_98")});},shouldShowIsValidError:function(){if(!this.state.isValid&&this._isModified)return !this.state.focused||!!this.state.isValAtLimit;return false;},triggerChange:function(l){this._isModified=true;var m=this.props.cursorPositionUpdater,n=this.state.cursorPosition,o=l,p=true,q=false,r=this.props.limit;if(this.props.formatValue&&!this.props.disabled)o=this.props.formatValue(l,this.state.value,this._lastKeyCode);if(r){if(typeof r==='function')r=r(o);o=o.slice(0,r);q=r===o.length;}if(!this.props.disabled)if(this.props.validate){p=this.props.validate(o);}else if(r){p=q;}else if(this.props.required)p=!!o;if(m&&l!==o)n=m(o,l,this.getCursorPosition(),' ');this.setState({cursorPosition:n,isValAtLimit:q,isValid:p,value:o});this.props.onChange(this.props.name,o,p,q);},renderLabel:function(){if(!this.props.label)return null;return (c('React').createElement('label',{className:"_2_99"},this.props.label));},render:function(){var l=this.shouldShowIsValidError()||this.props.saveError||this.props.errorMessage,m=void 0,n=this.props.placeholder,o=this.renderSecondaryIcon();if(this.props.width)m={width:this.props.width+'%'};if(this.props.showPlaceholderOnFocus&&!this.state.focused)n=null;return (c('React').createElement('div',{style:m,className:"_2_9a"+(l?' '+"_2_9b":'')+(this.props.showFocusOutline&&!l&&this.state.focused?' '+"_2_9c":'')+(!!o?' '+"_2_9d":'')},c('React').createElement('div',{className:this.props.useGutter?"_2_9e":''},this.renderLabel(),c('React').createElement('div',{className:"_2_9f"},this.renderIcon(),c('React').createElement(c('XUITextInput.react'),{autoComplete:this.props.autoCompleteName,ref:'input',value:this.state.value,onChange:this.handleChange,onPaste:this.handlePaste,onKeyDown:this.handleOnKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,placeholder:n,disabled:this.props.disabled,className:"_2_9g"+(!this.props.icon?' '+"_2_9h":''),xuiError:this.props.errorMessage}),o,c('React').createElement('div',{className:"_2_9i"})))));}});f.exports=k;},null);
__d('FBPaymentsFormFieldUtils',['Keys'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={stripNonDigits:function(i){return i.replace(/\D/g,'');},stripNonAlpha:function(i){return i.replace(/[^a-zA-Z]/g,'');},formatCardNumber:function(i,j,k,l,m){if(k===c('Keys').BACKSPACE||k===c('Keys').DELETE){var n=j.split(m).length-1,o=i.split(m).length-1;if(o!==n)return i;}i=this.stripNonDigits(i);i=i.substr(0,l[l.length-1]);var p='';for(var q=1;q<l.length;q++){if(l[q]>i.length||q===l.length-1){p+=i.slice(l[q-1]);break;}p+=i.slice(l[q-1],l[q])+m;}return p;},getUpdatedCursorPosition:function(i,j,k,l){var m=0,n=0;while(m<k&&m<j.length&&n<i.length)if(j[m]===i[n]){m++;n++;}else if(!/^\d+$/.test(j[m])){m++;}else n++;if(i.substr(n,1)===l)n++;return n;}};f.exports=h;},null);
__d('FBPaymentsCreditCardCVCFormField.react',['fbt','ix','Image.react','FBPaymentsFormField.react','FBPaymentsFormFieldUtils','PaymentMethodUtils','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'FBPaymentsCreditCardCVCFormField',propTypes:{creditCardNumber:j.string,cscMaxLength:j.number,initiallyFocused:j.bool,name:j.string.isRequired,onChange:j.func.isRequired,showFocusOutline:j.bool,showIcon:j.bool,showPlaceholder:j.bool,showSecondaryIcon:j.bool,showSecondaryIconAlways:j.bool},getDefaultProps:function(){return {showFocusOutline:true,showIcon:true,showPlaceholder:true,showSecondaryIconAlways:false};},isAmex:function(){var l=void 0;if(this.props.creditCardNumber)l=c('PaymentMethodUtils').getCardType(this.props.creditCardNumber);return l?l.name==='amex':false;},getLimit:function(){var l=this.props.cscMaxLength;if(!l)l=this.isAmex()?4:3;return l;},getSecondaryIcon:function(l){var m=void 0;if(!this.props.showSecondaryIcon)return null;if(this.isAmex()){m=i('/images/payments/icons/modularization/Amex-cvv.png');}else m=i('/images/payments/icons/modularization/CC-CVV.png');return (c('React').createElement(c('Image.react'),{height:20,src:m,width:30}));},render:function(){var l=void 0,m=void 0,n=void 0,o=this.getLimit();if(this.props.showLabel){n=h._("C\u00f3digo de seguridad");m='0'.repeat(o);}else if(this.props.showPlaceholder)m=h._("CVV");if(this.props.showIcon)l={normal:c('React').createElement(c('Image.react'),{height:12,src:i('/images/p2p/lock-grey_s.png'),width:12}),focused:c('React').createElement(c('Image.react'),{height:12,src:i('/images/p2p/lock-blue_s.png'),width:12})};return (c('React').createElement(c('FBPaymentsFormField.react'),babelHelpers['extends']({autoCompleteName:'cc-csc',formatValue:c('FBPaymentsFormFieldUtils').stripNonDigits,getSecondaryIcon:this.getSecondaryIcon,hideSecondaryIconOnBlur:true,icon:l,label:n,limit:o,placeholder:m,ref:'input',showSecondaryIconAlways:this.props.showSecondaryIconAlways},this.props)));}});f.exports=k;},null);
__d('FBPaymentsCreditCardZipCodeFormField.react',['fbt','ix','Image.react','FBPaymentsFormField.react','FBPaymentsFormFieldUtils','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'FBPaymentsCreditCardZipCodeFormField',propTypes:{onChange:j.func.isRequired,name:j.string.isRequired,showIcon:j.bool,showPlaceholder:j.bool},getDefaultProps:function(){return {showIcon:true,showPlaceholder:true};},getLimit:function(){return 5;},render:function(){var l=h._("C\u00f3digo postal de facturaci\u00f3n"),m=void 0,n=void 0,o=void 0;if(this.props.showLabel){o=l;m='00000';}else if(this.props.showPlaceholder)m=l;if(this.props.showIcon)n={normal:c('React').createElement(c('Image.react'),{height:12,src:i('/images/p2p/place-grey_s.png'),width:12}),focused:c('React').createElement(c('Image.react'),{height:12,src:i('/images/p2p/place-blue_s.png'),width:12})};return (c('React').createElement(c('FBPaymentsFormField.react'),babelHelpers['extends']({autoCompleteName:'postal-code',formatValue:c('FBPaymentsFormFieldUtils').stripNonDigits,icon:n,label:o,limit:this.getLimit(),placeholder:m,ref:'input'},this.props)));}});f.exports=k;},null);